cd /projects/python
git status

# 1) Make sure we’re not in a half-rebase
git rebase --abort 2>/dev/null || true
rm -rf .git/rebase-merge

# 2) Create parking area for non-standard stuff
mkdir -p others

# 3) Move Python bits into python/
[ -d src ]                && [ ! -d python/src ]            && git mv src python/
[ -d tests ]              && [ ! -d python/tests ]          && git mv tests python/
[ -f pyproject.toml ]     && [ ! -f python/pyproject.toml ] && git mv pyproject.toml python/

# 4) Park strays you don’t need at the root
[ -f script ]      && git mv script others/
[ -f .script.swp ] && git rm -f .script.swp

# 5) Stage the aws folder (it was untracked) and everything else
git add -A

# 6) Commit (use a message so it doesn’t abort)
git commit -m "Clean monorepo: move Python under python/, track aws/, park strays in others/"

# 7) Push
git push -u origin main

